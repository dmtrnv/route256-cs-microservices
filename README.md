## –î–æ–º–∞—à–Ω–µ–µ –∑–∞–¥–∞–Ω–∏–µ 8 –Ω–µ–¥–µ–ª–∏ –æ–±—É—á–µ–Ω–∏—è

–ù–∞–¥–æ –¥–æ–±–∞–≤–∏—Ç—å –≤ —Å–µ—Ä–≤–∏—Å—ã –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ, —Ç—Ä–µ–π—Å–∏–Ω–≥ –∏ –º–µ—Ç—Ä–∏–∫–∏, –∞ —Ç–∞–∫ –∂–µ –ø–æ–¥–∫–ª—é—á–∏—Ç—å –≥—Ä–µ–π–ª–æ–≥, –µ–≥–µ—Ä—è –∏ –ø—Ä–æ–º–µ—Ç–µ—É—Å —Å –≥—Ä–∞—Ñ–∞–Ω–æ–π.

##### –ó–∞–¥–∞–Ω–∏–µ –Ω–∞ –∞–ª–º–∞–∑–∏–∫ üíé
–°–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ –ø—Ä–æ–π—Ç–∏—Å—å –ø–æ —Ç–µ–º–µ Domain-Oriented Observability (–º–æ–∂–Ω–æ –Ω–∞—á–∞—Ç—å —Å https://martinfowler.com/articles/domain-oriented-observability.html), —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –∏ –ø–æ–∫—Ä—ã—Ç—å —Ç–µ—Å—Ç–∞–º–∏.

–î–µ–¥–ª–∞–π–µ: 11 –Ω–æ—è–±—Ä—è, 23:59 (—Å–¥–∞—á–∞) / 14 –Ω–æ—è–±—Ä—è, 23:59 (–ø—Ä–æ–≤–µ—Ä–∫–∞)

---

## –î–æ–º–∞—à–Ω–µ–µ –∑–∞–¥–∞–Ω–∏–µ —Å–µ–¥—å–º–æ–π –Ω–µ–¥–µ–ª–∏ –æ–±—É—á–µ–Ω–∏—è

–î–æ–º–∞—à–Ω–µ–µ –∑–∞–¥–∞–Ω–∏–µ –¥–æ—Å—Ç–æ—á–Ω–æ —Ç–≤–æ—Ä—á–µ—Å–∫–æ–µ. –û–æ–Ω –∑–∞–∫–ª—é—á–∞–µ—Ç—Å—è –≤ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–µ –≤–∞—à–µ–≥–æ —Å–µ—Ä–≤–∏—Å–∞ –∏ –ø—Ä–∏–≤–µ–¥–µ–Ω–∏–∏ –µ–≥–æ –∫ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–∞–º —á–∏—Å—Ç–æ–≥–æ –∫–æ–¥–∞ –∏ —á–∏—Å—Ç–æ–π –∞—Ä–∏—Ç–µ–∫—Ç—É—Ä—ã.

1. –°–æ–∑–¥–∞—Ç—å –ø—Ä–æ–µ–∫—Ç Domain, –≤ –Ω–µ–≥–æ –ø–æ–º–µ—Å—Ç–∏—Ç—å –¥–æ–º–µ–Ω–Ω—É—é –º–æ–¥–µ–ª—å –∏ –≤—ã–Ω–µ—Å—Ç–∏ –≤ –Ω–µ–µ –≤—Å—é –Ω–µ–æ–±—Ö–æ–¥–∏–º—É—é –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫—É
2. –°–æ–∑–¥–∞—Ç—å –ø—Ä–æ–µ–∫—Ç Infrastructure –∏ –ø–µ—Ä–µ–Ω–µ—Å—Ç–∏ –≤ –Ω–µ–≥–æ –≤–µ—Å—å –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–Ω—ã–π –∫–æ–¥: —Ä–∞–±–æ—Ç—ã —Å –ë–î —à–∞—Ä–¥–∏—Ä–æ–≤–∞–Ω–∏–µ–º, ServiceDiscovery, Kafka –∏ –ø—Ä.
3. –°–¥–µ–ª–∞—Ç—å –≤—Å–µ –∫–ª–∞—Å—Å—ã –≤ –ø—Ä–æ–µ–∫—Ç–µ Infrastructure —Å –¥–æ—Å—Ç—É–ø–æ–º internal.
4. –°–æ–∑–¥–∞—Ç—å –ø—Ä–æ–µ–∫—Ç Application –∏ —Ä–µ–∞–ª–∑–∏–æ–≤–∞—Ç—å –≤ –Ω–µ–º –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ —Å–µ—Ä–≤–∏—Å—ã –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
5. "–û—á–∏—Å—Ç–∏—Ç—å" –ø—Ä–æ–µ–∫—Ç Host (—Ç–µ–∫—É—â–∏–π –ø—Ä–æ–µ–∫—Ç –ø–æ-—É–º–æ–ª—á–∞–Ω–∏—é), –≤ –Ω–µ–º –¥–æ–ª–∂–Ω–∞ –æ—Å—Ç–∞—Ç—å—Å—è —Ç–æ–ª—å–∫–æ –ª–æ–≥–∏–∫–∞ gPRC —Å–µ—Ä–≤–∏—Å–∞, —á—Ç–µ–Ω–∏–µ –∏–∑ –ö–∞—Ñ–∫–∏ (–µ—Å–ª–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ), –º–∞–ø–ø–∏–Ω–≥.
6. *–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ*: –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å MediatR –¥–æ–ø—É—Å—Ç–∏–º–æ, –Ω–æ –Ω–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ.

##### –ó–∞–¥–∞–Ω–∏–µ —Å–æ –∑–≤–µ–∑–¥–æ—á–∫–æ–π
–°–æ–∑–¥–∞—Ç—å –∫–ª–∞—Å—Å—ã –¥–ª—è –ø—Ä–∏–º–∏—Ç–∏–≤–Ω—ã—Ö —Ç–∏–ø–æ–≤ —Ç–∞–º –≥–¥–µ –Ω—É–∂–Ω–æ –∏ –ø–æ–º–µ—Å—Ç–∏—Ç—å –≤ –Ω–∏—Ö –Ω–µ–æ–±—Ö–æ–¥–∏–º–∫—é –±–∏–∑–Ω–µ—Å –ª–æ–≥–∏–∫—É. –ù–∞–ø—Ä–∏–º–µ—Ä, –≤–º–µ—Å—Ç–æ `string Email { get; }` —Å–¥–µ–ª–∞—Ç—å –∫–ª–∞—Å—Å `Email`/

–î–µ–¥–ª–∞–π–Ω: 4 –Ω–æ—è–±—Ä—è, 23:59 (—Å–¥–∞—á–∞) / 7 –Ω–æ—è–±—Ä—è, 23:59 (–ø—Ä–æ–≤–µ—Ä–∫–∞)

---

## –î–æ–º–∞—à–Ω–µ–µ –∑–∞–¥–∞–Ω–∏–µ —à–µ—Å—Ç–æ–π –Ω–µ–¥–µ–ª–∏ –æ–±—É—á–µ–Ω–∏—è

1. –ü–æ–¥–Ω—è—Ç—å –≤ –æ–∫—Ä—É–∂–µ–Ω–∏–∏ 2 –∏–Ω—Å—Ç–∞–Ω—Å–∞ –ë–î –¥–ª—è order-service
2. –°–∫–æ–Ω—Ñ–∏–≥—É—Ä–∏—Ä–æ–≤–∞—Ç—å service-discovery –¥–ª—è –Ω–æ–≤—ã—Ö –∏–Ω—Å—Ç–∞–Ω—Å–æ–≤ (orders-1, buckets 0-3; orders-2, buckets 4-7)
3. –í—ã–±—Ä–∞—Ç—å –∫–ª—é—á(–∏) —à–∞—Ä–¥–∏—Ä–æ–≤–∞–Ω–∏—è –∏ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏—é –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –±–∞–∫–µ—Ç–∞ –ø–æ –∫–ª—é—á—É
4. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å connectionFactory –Ω–∞ —Ä–∞–±–æ—Ç—É —Å —à–∞—Ä–¥–∏—Ä–æ–≤–∞–Ω–Ω–æ–π –±–∞–∑–æ–π —á–µ—Ä–µ–∑ service discovery
5. –ü–µ—Ä–µ–¥–µ–ª–∞—Ç—å –º–∏–≥—Ä–∞—Ç–æ—Ä –Ω–∞ —Ä–∞–±–æ—Ç—É —Å —à–∞—Ä–¥–∏—Ä–æ–≤–∞–Ω–Ω–æ–π –±–∞–∑–æ–π
6. –í—ã–ø–æ–ª–Ω–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏–∏ –Ω–∞ —à–∞—Ä–¥–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∫–ª–∞—Å—Ç–µ—Ä (–ø–æ –±–∞–∫–µ—Ç–∞–º)
7. –ü–µ—Ä–µ–≤–µ—Å—Ç–∏ —Ä–∞–±–æ—Ç—É —Å–µ—Ä–≤–∏—Å–∞ –Ω–∞ —à–∞—Ä–¥–∏—Ä–æ–≤–∞–Ω–Ω—É—é –±–∞–∑—É

##### –ó–∞–¥–∞–Ω–∏–µ —Å–æ –∑–≤–µ–∑–¥–æ—á–∫–æ–π
–†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –∏–Ω–¥–µ–∫—Å–Ω—ã–π –ø–æ–∏—Å–∫ –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –∑–∞–∫–∞–∑–æ–≤ –Ω–µ –ø–æ –∫–ª—é—á—É —à–∞—Ä–¥–∏—Ä–æ–≤–∞–Ω–∏—è (—Å–æ–≥–ª–∞—Å–Ω–æ –∫–æ–Ω—Ç—Ä–∞–∫—Ç–∞–º) (*).

### FAQ

##### –ö–∞–∫ –±—ã—Ç—å —Å —Ä—É—á–∫–∞–º–∏, –∫–æ—Ç–æ—Ä—ã–µ –∏—â—É—Ç –Ω–µ –ø–æ –∫–ª—é—á—É —Å –ø–∞–≥–∏–Ω–∞—Ü–∏–µ–π –∏ —Ç.–ø.?
–î–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∑–∞–¥–∞–Ω–∏—è –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ, —á—Ç–æ–±—ã –≤—ã –ø–µ—Ä–µ–±–∏—Ä–∞–ª–∏ –≤—Å–µ –∑–∞–∫–∞–∑—ã –∏–∑ –≤—Å–µ—Ö –±–∞–∫–µ—Ç–æ–≤. 
–ù–æ –¥–ª—è –µ–Ω–¥–ø–æ–∏–Ω—Ç–æ–≤, –æ—Å—É—â–µ—Ç—Å–≤–ª—è—é—â–∏—Ö –ø–æ–∏—Å–∫ –Ω–µ –ø–æ –∫–ª—é—á—É —à–∞—Ä–∏—Ä–æ–≤–∞–Ω–∏—è, –º–æ–∂–Ω–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –≥–ª–æ–±–∞–ª—å–Ω—ã–π –∏–Ω–¥–µ–∫—Å (—Ä–∞–¥–∏ –∞–ª–º–∞–∑–∏–∫–∞).
–ü–æ–¥—Å–∫–∞–∑–∫–∞ - –≤ –∏–Ω–¥–µ–∫—Å –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –ø–æ–ª—è –¥–ª—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏

##### –ö–∞–∫ –±—ã—Ç—å —Å –¥—Ä—É–≥–∏–º–∏ —Å—É—â–Ω–æ—Å—Ç—è–º–∏ –≤ –Ω–∞—à–µ–π –ë–î ‚Äî —Å–∫–ª–∞–¥—ã/—Ä–µ–≥–∏–æ–Ω—ã?
–¢–∞–∫ –∫–∞–∫ —ç—Ç–æ —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫–∏, —Ç–æ –∏—Ö —Å–æ—Å—Ç–∞–≤ –¥–æ–ø—É—Å—Ç–∏–º–æ –ø—Ä–æ—Å—Ç–æ –∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –≤–æ –≤—Å–µ —à–∞—Ä–¥—ã –∏ –¥–µ—Ä–∂–∞—Ç—å –≤ –∫–∞–∂–¥–æ–º —à–∞—Ä–¥–µ –∫–æ–ø–∏—é.
–í—ã –º–æ–∂–µ—Ç–µ —à–∞—Ä–¥–∏—Ä–æ–≤–∞—Ç—å —Ç–∞–∫–∂–µ –∏ –∏—Ö, –Ω–æ –Ω–µ –∑–∞–±—É–¥—å—Ç–µ —Å–Ω—è—Ç—å foreign key constraint, –µ—Å–ª–∏ –æ–Ω–∏ —É –≤–∞—Å –±—ã–ª–∏. 

##### –ö–∞–∫ –±—ã—Ç—å —Å —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–æ–Ω–Ω–æ—Å—Ç—å—é?
–î–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∑–∞–¥–∞–Ω–∏—è —Å –∞–ª–º–∞–∑–∏–∫–æ–º –ø—Ä–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –≥–ª–æ–±–∞–ª—å–Ω–æ–≥–æ –∏–Ω–¥–µ–∫—Å–∞ –ù–ï —Ç—Ä–µ–±—É–µ—Ç—Å—è, —á—Ç–æ–±—ã –µ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –±—ã–ª–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–æ —Ç—Ä–∞–Ω–∑–∞—Ü–∏–æ–Ω–Ω–æ —Å 
–≤—Å—Ç–∞–≤–∫–æ–π/–∏–∑–º–µ–Ω–µ–Ω–∏–µ–º –æ—Å–Ω–æ–≤–Ω–æ–π —Å—É—â–Ω–æ—Å—Ç–∏, —Ç.–∫. –≤ –æ–±—â–µ–º —Å–ª—É—á–∞–µ –æ–Ω–æ –±—É–¥–µ—Ç –≤—ã–ø–æ–ª–Ω—è—Ç—å—Å—è –Ω–∞ –¥—Ä—É–≥–æ–º —à–∞—Ä–¥–µ –∏ –ø–æ—Ç—Ä–µ–±—É–µ—Ç —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ–π —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏. 
–ü—Ä–∏ —ç—Ç–æ–º, —Å–ª–µ–¥—É–µ—Ç —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–æ–Ω–Ω–æ—Å—Ç—å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è —Å–∞–º–∏—Ö —Å—É—â–Ω–æ—Å—Ç–µ–π –≤ —Ä–∞–º–∫–∞—Ö –æ–¥–Ω–æ–≥–æ –∑–∞–ø—Ä–æ—Å–∞.

##### –ö–∞–∫ –±—ã—Ç—å —Å –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω–æ–π –≤—Å—Ç–∞–≤–∫–æ–π?
–†–µ–∞–ª–∏–∑–∞—Ü–∏—è –≤—Å—Ç–∞–≤–∫–∏ –º–∞—Å—Å–∏–≤–∞ –æ–±—ä–µ–∫—Ç–æ–≤ –æ—Å—Ç–∞–µ—Ç—Å—è –Ω–∞ –≤–∞—à –≤—ã–±–æ—Ä. 
–î–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –∫–æ–Ω—Ç—Ä—É–∫—Ü–∏–∏ `unnest` –¥–æ–ø—É—Å–∫–∞–µ—Ç—Å—è —Å–æ–∑–¥–∞–≤–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π —Ç–∏–ø –≤ –±–∞–∑–µ —Ç–æ–ª—å–∫–æ –≤ —Å—Ö–µ–º–µ public (—á–µ—Ä–µ–∑ –º–∏–≥—Ä–∞—Ü–∏–∏).

### –ö—Ä–∏—Ç–µ—Ä–∏–∏ –ø—Ä–∏–µ–º–∫–∏:

1. –ü—Ä–∏—Å—É—Ç—Å—Ç–≤—É—é—Ç –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö orders-1 –∏ orders-2
2. –í –±–∞–∑–µ orders-1 –Ω–∞—Ö–æ–¥—è—Ç—Å—è —Å—Ö–µ–º—ã bucket_0, bucket_1, bucket_2, bucket_3
3. –í –±–∞–∑–µ orders-2 –Ω–∞—Ö–æ–¥—è—Ç—Å—è —Å—Ö–µ–º—ã bucket_4, bucket_5, bucket_6, bucket_7
4. –í –∫–∞–∂–¥—É—é —Å—Ö–µ–º—É bucket_N —Å–º–∏–≥—Ä–∏—Ä–æ–≤–∞–Ω–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –ë–î
5. –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω IShardingRule, –≤—ã–ø–æ–ª–Ω—è—é—â–∏–π –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ –∫–ª—é—á–∞ —à–∞—Ä–¥–∏—Ä–æ–≤–∞–Ω–∏—è –≤ –Ω–æ–º–µ—Ä –±–∞–∫–µ—Ç–∞
6. –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω ShardConnectionFactory, —Å–æ–∑–¥–∞—é—â–∏–π –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ –Ω—É–∂–Ω–æ–º—É –∏–Ω—Å—Ç–∞–Ω—Å—É –ë–î –Ω–∞ –æ—Å–Ω–æ–≤–µ –∫–ª—é—á–∞
7. –ò—Å—Ç–æ—á–Ω–∏–∫–æ–º –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –±–∞–∫–µ—Ç–æ–≤ –ø–æ —Ö–æ—Å—Ç–∞–º –≤ ShardConnectionFactory –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å ServiceDiscovery
8. –†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ –ø–µ—Ä–µ–≤–µ–¥–µ–Ω—ã –Ω–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ ShardConnectionFactory
9. –í—Å–µ API —Ä–∞–±–æ—Ç–∞—é—Ç –∫–∞–∫ –∏ –ø—Ä–µ–∂–¥–µ.

#### –î–ª—è –∑–∞–¥–∞–Ω–∏—è —Å–æ –∑–≤–µ–∑–¥–æ—á–∫–æ–π:
1. –°–æ–∑–¥–∞–Ω–∞ –∏–Ω–¥–µ–∫—Å–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞ –¥–ª—è –ø–æ–∏—Å–∫–∞ –∑–∞–∫–∞–∑–æ–≤ –Ω–µ –ø–æ –∫–ª—é—á—É —à–∞—Ä–¥–∏—Ä–æ–≤–∞–Ω–∏—è. –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∏–Ω–¥–µ–∫—Å–æ–≤ –æ–ø—Ä–¥–µ–ª–µ—è–µ—Ç—Å—è –∫–æ–Ω—Ç—Ä–∞–∫—Ç–∞–º–∏ –Ω–∞ –ø–æ–∏—Å–∫ –∑–∞–∫–∞–∑–æ–≤ (*)
2. –ü—Ä–∏ –≤—Å—Ç–∞–≤–∫–µ (–æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏, –∑–∞—Ç—Ä–∞–∏–≥–∏–≤–∞—é—â–µ–º –∏–Ω–¥–µ–∫—Å–Ω–æ–µ –ø–æ–ª–µ) –∑–∞–∫–∞–∑–∞, —Ç–∞–∫–∂–µ –∑–∞–Ω–æ—Å–∏—Ç—Å—è/–æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –∑–∞–ø–∏—Å—å –≤ –∏–Ω–¥–µ–∫—Å–Ω—É—é —Ç–∞–±–ª–∏—Ü—É/—ã (–±–µ–∑ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏)
3. –ü–æ–∏—Å–∫ –∑–∞–∫–∞–∑–æ–≤ –Ω–µ –ø–æ –∫–ª—é—á—É —à–∞—Ä–¥–∏—Ä–æ–≤–∞–Ω–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç—Å—è —á–µ—Ä–µ–∑ –∏–Ω–¥–µ–∫—Å–Ω—É—é —Ç–∞–±–ª–∏—Ü—É/—ã, –∞ –Ω–µ –ø–æ –≤—Å–µ–º –±–∞–∫–µ—Ç–∞–º

**(*)** –î–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∑–∞–¥–∞–Ω–∏—è —Å–æ –∑–≤–µ–∑–¥–æ—á–∫–æ–π, –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –∏–Ω–¥–µ–∫—Å –ø–æ —Ä–µ–≥–∏–æ–Ω–∞–º –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –µ–≥–æ –¥–ª—è –≤—Å–µ—Ö –ø–æ–¥—Ö–æ–¥—è—â–∏—Ö –∑–∞–ø—Ä–æ—Å–æ–≤. 
–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∏–Ω–¥–µ–∫—Å–∞ –¥–ª—è –ø–æ–∏—Å–∫–∞ –∑–∞–∫–∞–∑–æ–≤ –ø–æ –∫–ª–∏–µ–Ω—Ç—É –æ—Å—Ç–∞–µ—Ç—Å—è –Ω–∞ –≤–∞—à–µ —É—Å–º–æ—Ç—Ä–µ–Ω–∏–µ.

–î–µ–¥–ª–∞–π–Ω: 28 –æ–∫—Ç—è–±—Ä—è, 23:59 (—Å–¥–∞—á–∞) / 31 –æ–∫—Ç—è–±—Ä—è, 23:59 (–ø—Ä–æ–≤–µ—Ä–∫–∞)

---

## –î–æ–º–∞—à–Ω–µ–µ –∑–∞–¥–∞–Ω–∏–µ –ø—è—Ç–æ–π –Ω–µ–¥–µ–ª–∏ –æ–±—É—á–µ–Ω–∏—è

### –°–ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö orders –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –∑–∞–∫–∞–∑–æ–≤

* –û–±–µ—Å–ø–µ—á–∏—Ç—å —Ö—Ä–∞–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –∑–∞–∫–∞–∑–∞, —Ä–µ–≥–∏–æ–Ω–æ–≤ (—Å–æ–≤–º–µ—Å—Ç–Ω–æ —Å–æ —Å–∫–ª–∞–¥–æ–º –∏–ª–∏ –æ—Ç–¥–µ–ª—å–Ω–æ —Å–∫–ª–∞–¥—ã). –¢–∏–ø –ø–æ–ª–µ–π –≤—ã–±–∏—Ä–∞—Ç—å –∏—Å—Ö–æ–¥—è –∏–∑ –ø–æ–ª–µ–π –≤–∞—à–∏—Ö –º–æ–¥–µ–ª–µ–π –¥–∞–Ω–Ω—ã—Ö. –î–æ–ø—É—Å—Ç–∏–º–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å jsonb/enum –≤ —Å–ª—É—á–∞–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏. –¢–æ–≤–∞—Ä–Ω—ã–π —Å–æ—Å—Ç–∞–≤ –∑–∞–∫–∞–∑–∞ —Å–æ—Ö—Ä–∞–Ω—è—Ç—å –Ω–µ –Ω—É–∂–Ω–æ.

* –°–æ–∑–¥–∞—Ç—å —Å–ª–æ–π –º–∏–≥—Ä–∞—Ü–∏–π –∏—Å–ø–æ–ª—å–∑—É—è FluentMigrator. –ú–∏–≥—Ä–∞—Ü–∏—è –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å —Å—Ç—Ä–æ–≥–æ SQL, fluent-—Å–∏–Ω—Ç–∞–∫—Å–∏—Å –Ω–µ–¥–æ–ø—É—Å—Ç–∏–º. –ú–∏–≥—Ä–∞—Ü–∏—è –¥–æ–ª–∂–Ω–∞ —Å–æ–∑–¥–∞–≤–∞—Ç—å –ë–î –∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –∏–Ω–¥–µ–∫—Å—ã. –ù–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç—å –∏–Ω–¥–µ–∫—Å–∞ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è —Å–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ.

* –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–µ–≤ (—Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ in-memory –æ—Å—Ç–∞–≤–∏—Ç—å). –í—Å–µ –º–µ—Ç–æ–¥—ã –∞–±—Å—Ç—Ä–∞–∫—Ç–Ω—ã—Ö —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–µ–≤ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–º–∏ (–≤–æ–∑–≤—Ä–∞—â–∞—Ç—å `Task<>`) –∏ –ø–æ—Ç–¥–µ—Ä–∂–∏–≤–∞—Ç—å –æ—Ç–º–µ–Ω—É (`CancellationToken`)

* –£–¥–∞–ª—è—Ç—å —Ä–∞–Ω–µ–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –º–µ—Ç–æ–¥—ã API –∏/–∏–ª–∏ –º–µ—Ç–æ–¥—ã —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–µ–≤ —Ç–æ–∂–µ –Ω–µ–ª—å–∑—è.

–ó–∞–¥–∞–Ω–∏–µ —Å–æ –∑–≤–µ–∑–¥–æ—á–∫–æ–π:
* –ù–∞–ø–∏—Å–∞—Ç—å –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã –¥–ª—è —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–µ–≤ –∏–ª–∏ —Ü–µ–ª–∏–∫–æ–º —Å–µ—Ä–≤–∏—Å–∞ —á–µ—Ä–µ–∑ gRPC API. –û–±–µ—Å–ø–µ—á–∏–≤–∞—Ç—å –∑–∞–ø—É—Å–∫ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã—Ö —Ç–µ—Å—Ç–æ–≤ –≤ ci/cd –Ω–µ
  –Ω—É–∂–Ω–æ.

–î–µ–¥–ª–∞–π–Ω: 21 –æ–∫—Ç—è–±—Ä—è, 23:59 (—Å–¥–∞—á–∞) / 24 –æ–∫—Ç—è–±—Ä—è, 23:59 (–ø—Ä–æ–≤–µ—Ä–∫–∞)

---

## –î–æ–º–∞—à–Ω–µ–µ –∑–∞–¥–∞–Ω–∏–µ —á–µ—Ç–≤–µ—Ä—Ç–æ–π –Ω–µ–¥–µ–ª–∏ –æ–±—É—á–µ–Ω–∏—è

#### 1. –ù–µ–æ–±—Ö–æ–¥–∏–º–æ –∫—ç—à–∏—Ä–æ–≤–∞—Ç—å –æ—Ç–≤–µ—Ç—ã –æ—Ç —Å–µ—Ä–≤–∏—Å–∞ CustomerService

* –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ —á–µ—Ä–µ–∑ `IDistributedCache` –∏–ª–∏ `StackExchange.Redis` (–ù–∞ –≤–æ—Ä—à–∫–æ–ø–µ —Ä–∞—Å–º–∞—Ç—Ä–∏–≤–∞–ª—Å—è –≤–∞—Ä–∏–∞–Ω—Ç —Ç–æ–ª—å–∫–æ —Å StackExchange.Redis)

#### 2. –ù–µ–æ–±—Ö–æ–¥–∏–º–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å Consumer –¥–ª—è —Ç–æ–ø–∏–∫–∞ pre_orders
* –ü–æ–ª—É—á–∞–µ–º –¥–∞–Ω–Ω—ã–µ –∏–∑ —Ç–æ–ø–∏–∫–∞ `pre_orders`
* –û–±–æ–≥–∞—â–∞–µ–º –¥–∞–Ω–Ω—ã–º–∏ –∏–∑ —Å–µ—Ä–≤–∏—Å–∞ CustomerService
* –ù–∞–¥–æ –æ–±–æ–≥–∞—Ç–∏—Ç—å –¥–∞–Ω–Ω—ã–µ —Ç–∞–∫, —á—Ç–æ –º—ã –º–æ–≥–ª–∏ –≤—ã–ø–æ–ª–Ω—è—Ç—å –∞–≥—Ä–µ–≥–∞—Ü–∏—é –¥–∞–Ω–Ω—ã—Ö
* –û–±–æ–≥–∞—â–µ–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ —Å–æ—Ö—Ä–∞–Ω—è–µ–º –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π

#### 3. –í–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö –ø–µ—Ä–µ–¥ –æ—Ç–ø—Ä–∞–≤–∫–æ–π –≤ new_orders
* –î–æ–±–∞–≤–∏—Ç—å –∫–∞–¥–æ–º—É —Ä–µ–≥–∏–æ–Ω—É —Å–∫–ª–∞–¥ —Å –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞–º–∏
* –ö–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –ø—Ä–∏–¥—É–º–∞–π—Ç–µ —Å–∞–º–∏
* –ü—Ä–æ–≤–µ—Ä—è–µ–º —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–µ –º–µ–∂–¥—É –∞–¥—Ä–µ—Å–æ–º –≤ –∑–∞–∫–∞–∑–µ –∏ —Å–∫–ª–∞–¥–æ–º —Ä–µ–≥–∏–æ–Ω–∞
* –ï—Å–ª–∏ —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–µ –±–æ–ª–µ–µ 5000, —Ç–æ –∑–∞–∫–∞–∑ –Ω–µ –≤–∞–ª–∏–¥–∏–Ω—ã–π
  ** –¢–∞–º –∑–∞—Ö–∞—Ä–¥–∫–æ–∂–µ–Ω—ã —Ç–æ–ª—å–∫–æ –¥–≤–æ–µ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç. (55.7522, 37.6156 –∏ 55.01, 82.55)

* –ó–∞–∫–∞–∑—ã —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ –æ—Ç –≤–∞–ª–∏–¥–Ω–æ—Å—Ç–∏

#### 4. –ù–µ–æ–±—Ö–æ–¥–∏–º–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å Poducer –¥–ª—è —Ç–æ–ø–∏–∫–∞ new_orders
* –í–∞–ª–∏–¥–Ω—ã–µ –∑–∞–∫–∞–∑—ã –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å –≤ —Ç–æ–ø–∏–∫ `new_orders`

#### 5. –ù–µ–æ–±—Ö–æ–¥–∏–º–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å Consumer –¥–ª—è —Ç–æ–ø–∏–∫–∞ orders_events
* –ß–∏—Ç–∞—Ç—å —Å–æ–æ–±—â–µ–Ω–∏—è –∏–∑ —Ç–æ–ø–∏–∫–∞ `orders_events`
* –û–±–Ω–æ–≤–ª—è—Ç—å —Å—Ç–∞—Ç—É—Å –∑–∞–∫–∞–∑–∞

** –ö–æ–Ω—Ç—Ä–∞–∫—Ç –¥–ª—è —Ç–æ–ø–∏–∫–∞ `pre_orders`
key:orderId
value:
```json
{
    "Id": 82788613,
    "Source": 1,
    "Customer": {
        "Id": 1333768,
        "Address": {
            "Region": "Montana",
            "City": "East Erich",
            "Street": "Bernier Stream",
            "Building": "0744",
            "Apartment": "447",
            "Latitude": -29.8206,
            "Longitude": -50.1263
        }
    },
    "Goods": [
        {
            "Id": 5140271,
            "Name": "Intelligent Rubber Shoes",
            "Quantity": 6,
            "Price": 2204.92,
            "Weight": 2802271506
        },
        {
            "Id": 2594594,
            "Name": "Rustic Frozen Pants",
            "Quantity": 8,
            "Price": 1576.55,
            "Weight": 3174423838
        },
        {
            "Id": 6005559,
            "Name": "Practical Plastic Soap",
            "Quantity": 2,
            "Price": 1034.51,
            "Weight": 2587375422
        }
    ]
}
```

** –ö–æ–Ω—Ç—Ä–∞–∫—Ç –¥–ª—è —Ç–æ–ø–∏–∫–∞ `new_orders`
key:orderId
value:
```json
{"OrderId": 1}
```

** –ö–æ–Ω—Ç—Ä–∞–∫—Ç –¥–ª—è —Ç–æ–ø–∏–∫–∞ `orders_events`
key:orderId
value:
```json
{
	"Id": 20032,
	"NewState": "SentToCustomer",
    "UpdateDate": "2023-03-11T11:40:44.964164+00:00"
}
```

–ó–∞–¥–∞–Ω–∏–µ —Å–æ **\***

* –ù–∞–ø–∏—Å–∞—Ç—å Unit —Ç–µ—Å—Ç—ã –¥–ª—è –Ω–æ–≤–æ–π –ª–æ–≥–∏–∫–∏

> **–î–µ–¥–ª–∞–π–Ω: 17 –∏—é–Ω—è 23:59 (—Å–¥–∞—á–∞) / 20 –∏—é–Ω—è 23:59 (–ø—Ä–æ–≤–µ—Ä–∫–∞).**

---

## –î–æ–º–∞—à–Ω–µ–µ –∑–∞–¥–∞–Ω–∏–µ 3

### 1. –ù–µ–æ–±—Ö–æ–¥–∏–º–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —Ö—Ä–∞–Ω–∏–ª–∏—â–∞ –¥–∞–Ω–Ω—ã—Ö –≤ —Å–µ—Ä–≤–∏—Å–µ OrderService –ø–æ –∞–Ω–∞–ª–æ–≥–∏–∏ —Å —Ç–µ–º, –∫–∞–∫ —ç—Ç–æ —Å–¥–µ–ª–∞–Ω–æ –±—ã–ª–æ –Ω–∞ workshop.

* –ù–µ–æ–±—Ö–æ–¥–∏–º–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –∞–±—Å—Ç—Ä–∞–∫—Ç–Ω—ã–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ (–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã)
* –í—Å–µ –º–µ—Ç–æ–¥—ã –∞–±—Å—Ç—Ä–∞–∫—Ç–Ω—ã—Ö —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–µ–≤ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–º–∏(–≤–æ–∑–≤—Ä–∞—â–∞—Ç—å `Task<>`) –∏ –ø–æ—Ç–¥–µ—Ä–∂–∏–≤–∞—Ç—å –æ—Ç–º–µ–Ω—É (`CancellationToken`)

* –†–µ–∞–ª–∏–∑–∞—Ü–∏—è —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–µ–≤ –¥–æ–ª–∂–Ω–∞ –æ—Å–Ω–æ–≤—ã–≤–∞—Ç—å—Å—è –Ω–∞ –±–∞–∑–µ –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–Ω–æ–≥–æ —Å–ª–æ–≤–∞—Ä—è (`ConcurrentDictionary<,>`)
* –†–µ–∞–ª–∏–∑–∞—Ü–∏—è —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–µ–≤ –¥–æ–ª–∂–Ω–∞ –ø–æ—Ç–¥–µ—Ä–∂–∏–≤–∞—Ç—å –æ—Ç–º–µ–Ω—É (`CancellationToken`)

* –°–ø–∏—Å–æ–∫ —Ä–µ–≥–∏–æ–Ω–æ–≤: "Moscow", "StPetersburg", "Novosibirsk"

### 2. –ù–µ–æ–±—Ö–æ–¥–∏–º–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å GRPC –∫–ª–∏–µ–Ω—Ç –¥–ª—è —Å–µ—Ä–≤–∏—Å–∞ LogisticsSimulator
* [Proto file](https://gitlab.ozon.dev/cs/classroom-8/students/practice/-/blob/master/src/Ozon.Route256.Practice.LogisticsSimulator/Proto/LogisticsSimulator.proto)

### 3. –ù–∞–ø–∏—Å–∞—Ç—å –±–∏–∑–Ω–µ—Å –ª–æ–≥–∏–∫—É –¥–ª—è GRPC —Ä—É—á–µ–∫
* –£–±—Ä–∞—Ç—å –≤—Å–µ –∑–∞–≥–ª—É—à–∫–∏
* –°–≤—è–∑–∞—Ç—å –±–∏–∑–Ω–µ—Å –ª–æ–≥–∏–∫—É —Å —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è–º–∏
* –ü—Ä–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –º–µ—Ç–æ–¥–∞ "–æ—Ç–º–µ–Ω—ã –∑–∞–∫–∞–∑–∞", –ø–æ–º–∏–º–æ –æ—Ç–º–µ–Ω—ã —É —Å–µ–±—è –≤ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ, –Ω–∞–¥–æ –æ—Ç–º–µ–Ω–∏—Ç—å –∑–∞–∫–∞–∑ –≤ LogisticsSimulator —á–µ—Ä–µ–∑ GRPC

–ó–∞–¥–∞–Ω–∏–µ —Å–æ *

* –î–ª—è –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏—Ö —Å–µ—Ä–≤–∏—Å–æ–≤ –Ω–∞–ø–∏—Å–∞–Ω—ã UnitTest. –ù–∞–ø–∏—Å–∞—Ç—å (–ø–µ—Ä–µ–ø–∏—Å–∞—Ç—å) —Ç–µ—Å—Ç—ã —Å —É—á–µ—Ç–æ–º —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è. –¢–µ—Å—Ç—ã –¥–ª—è —Å–∞–º–æ–≥–æ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è –¥–µ–ª–∞—Ç—å –Ω–µ –Ω–∞–¥–æ. –í–æ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏—Ö —Å–µ—Ä–≤–∏—Å–∞—Ö –∞–±—Å—Ç—Ä–∞–∫—Ç–Ω—ã–π —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π —Å–ª–µ–¥—É–µ—Ç –∑–∞–º–æ–∫–∞—Ç—å FakeItEasy / moq / –∏ —Ç.–ø.

–î–µ–¥–ª–∞–π–Ω: 7 –æ–∫—Ç—è–±—Ä—è, 23:59 (—Å–¥–∞—á–∞) / 10 –æ–∫—Ç—è–±—Ä—è, 23:59 (–ø—Ä–æ–≤–µ—Ä–∫–∞)

---

## –î–æ–º–∞—à–Ω–µ–µ –∑–∞–¥–∞–Ω–∏–µ 2

### 1. –ù–µ–æ–±—Ö–æ–¥–∏–º–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ —Å SD –≤ —Å–µ—Ä–≤–∏—Å–µ OrderService.
–î–∞–Ω–Ω—ã–µ –∏–∑ SD –Ω—É–∂–Ω—ã –±—É–¥—É –Ω–∞ 6 –Ω–µ–¥–µ–ª–µ, –∫–æ–≥–¥–∞ –±—É–¥–µ—Ç–µ –ø—Ä–æ—Ö–æ–¥–∏—Ç—å —à–∞—Ä–¥–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ë–î.

### 2. –ù–µ–æ–±—Ö–æ–¥–∏–º–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —Ä—É—á–∫–∏ GRPC —Å–µ—Ä–≤–∏—Å–∞ –≤ OrdersService (–Ω–∞–∑–≤–∞–Ω–∏–µ —Å–µ—Ä–≤–∏—Å–∞ –ø–æ –∂–µ–ª–∞–Ω–∏—é)

- –†—É—á–∫–∞ –æ—Ç–º–µ–Ω—ã –∑–∞–∫–∞–∑–∞
- –†—É—á–∫–∞ –≤–æ–∑–≤—Ä–∞—Ç–∞ —Å—Ç–∞—Ç—É—Å–∞ –∑–∞–∫–∞–∑–∞
- –†—É—á–∫–∞ –≤–æ–∑–≤—Ä–∞—Ç–∞ —Å–ø–∏—Å–∫–∞ —Ä–µ–≥–∏–æ–Ω–æ–≤
- –†—É—á–∫–∞ –≤–æ–∑–≤—Ä–∞—Ç–∞ —Å–ø–∏—Å–∫–∞ –∑–∞–∫–∞–∑–æ–≤
- –†—É—á–∫–∞ –∞–≥—Ä–µ–≥–∞—Ü–∏–∏ –∑–∞–∫–∞–∑–æ–≤ –ø–æ —Ä–µ–≥–∏–æ–Ω—É
- –†—É—á–∫–∞ –ø–æ–ª—É—á–µ–Ω–∏—è –≤—Å–µ—Ö –∑–∞–∫–∞–∑–æ–≤ –∫–ª–∏–µ–Ω—Ç–∞

#### GRPC API

- GRPC —Ä—É—á–∫–∏ –¥–æ–ª–∂–Ω—ã –æ–ø–∏—Å—ã–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ –∫–æ–Ω—Ç—Ä–∞–∫—Ç—ã –¥–ª—è –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è. –†–µ–∞–ª–∏–∑–∞—Ü–∏—è —ç—Ç–∏—Ö —Ä—É—á–µ–∫ –Ω–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è.
- –í—Å–µ —Ä—É—á–∫–∏, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–≥—É—Ç –≤–µ—Ä–Ω—É—Ç—å –ø—É—Å—Ç–æ–π —Å–ø–∏—Å–æ–∫ - –¥–æ–ª–∂–Ω—ã –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å –ø—É—Å—Ç–æ–π —Å–ø–∏—Å–æ–∫.
- –ï—Å–ª–∏ —Ä—É—á–∫–∞ –º–æ–∂–µ—Ç –≤–µ—Ä–Ω—É—Ç—å –∫–æ–¥ NotFound - —Å–µ–π—á–∞—Å –æ–Ω–∞ –¥–æ–ª–∂–Ω–∞ –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å –∏–º–µ–Ω–Ω–æ —ç—Ç–æ—Ç –∫–æ–¥.
- –î–æ–ø—É—Å–∫–∞–µ—Ç—Å—è –¥–æ–±–∞–≤–∏—Ç—å –Ω–∞—á–∞–ª—å–Ω—ã–µ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –Ω–∞ –≤—Ö–æ–¥—è—â–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∏ –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å –∫–æ–¥ 400 –¥–ª—è REST –∑–∞–ø—Ä–æ—Å–æ–≤ –∏–ª–∏ StatusCode.InvalidArgument, –µ—Å–ª–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –Ω–µ –ø—Ä–æ—à–ª–∏ –≤–∞–ª–∏–¥–∞—Ü–∏—é.

### 3. –ù–µ–æ–±—Ö–æ–¥–∏–º–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —Ä—É—á–∫–∏ –¥–ª—è REST API –≤ —Å–µ—Ä–≤–∏—Å–µ Gateway - –≤—Å–µ —Ä—É—á–∫–∏ –≤ Gateway –ø—Ä–æ–∫—Å–∏—Ä—É—é—Ç –≤—ã–∑–æ–≤—ã –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–µ –≤—ã–∑–æ–≤—ã –≤ grpc —Å–µ—Ä–≤–∏—Å—ã OrderService –∏ CustomerService

- –†—É—á–∫–∞ –æ—Ç–º–µ–Ω—ã –∑–∞–∫–∞–∑–∞
- –†—É—á–∫–∞ –≤–æ–∑–≤—Ä–∞—Ç–∞ —Å—Ç–∞—Ç—É—Å–∞ –∑–∞–∫–∞–∑–∞
- –†—É—á–∫–∞ –≤–æ–∑–≤—Ä–∞—Ç–∞ —Å–ø–∏—Å–∫–∞ –∫–ª–∏–µ–Ω—Ç–æ–≤
- –†—É—á–∫–∞ –≤–æ–∑–≤—Ä–∞—Ç–∞ —Å–ø–∏—Å–∫–∞ —Ä–µ–≥–∏–æ–Ω–æ–≤
- –†—É—á–∫–∞ –≤–æ–∑–≤—Ä–∞—Ç–∞ —Å–ø–∏—Å–∫–∞ –∑–∞–∫–∞–∑–æ–≤
- –†—É—á–∫–∞ –∞–≥—Ä–µ–≥–∞—Ü–∏–∏ –∑–∞–∫–∞–∑–æ–≤ –ø–æ —Ä–µ–≥–∏–æ–Ω—É
- –†—É—á–∫–∞ –ø–æ–ª—É—á–µ–Ω–∏—è –≤—Å–µ—Ö –∑–∞–∫–∞–∑–æ–≤ –∫–ª–∏–µ–Ω—Ç–∞

#### REST API:

- –†—É—á–∫–∏ –¥–æ–ª–∂–Ω—ã –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å—Å—è –≤ swagger.
- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–æ–≤ –∏ —Å–ø–æ—Å–æ–± –∏—Ö —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è –≤–∞–º–∏ –∏—Å—Ö–æ–¥—è –∏–∑ –ª—É—á—à–∏—Ö –ø—Ä–∞–∫—Ç–∏–∫, –∫–æ—Ç–æ—Ä—ã–µ –≤–∞–º –∏–∑–≤–µ—Å—Ç–Ω—ã
- –î–æ–ª–∂–Ω—ã –≤—ã–∑—ã–≤–∞—Ç—å —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–µ –º–µ—Ç–æ–¥—ã –≤ —Å–µ—Ä–≤–∏—Å–∞—Ö OrderService –∏ CustomerService, —Ç.–µ. –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞—Ç—å REST –∑–∞–ø—Ä–æ—Å –≤ GRPC –∑–∞–ø—Ä–æ—Å, —Å–¥–µ–ª–∞—Ç—å –≤—ã–∑–æ–≤, –ø–æ–ª—É—á–∏—Ç—å GRPC –æ—Ç–≤–µ—Ç –∏–ª–∏ –æ—à–∏–±–∫—É –∏ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞—Ç—å –µ–≥–æ –≤ REST –æ—Ç–≤–µ—Ç.
- –ö—Ä–æ–º–µ –ø—Ä–æ–∫—Å–∏—Ä–æ–≤–∞–Ω–∏—è –∑–∞–ø—Ä–æ—Å–æ–≤ - –Ω–∏–∫–∞–∫–∏—Ö –¥—Ä—É–≥–æ–π –ª–æ–≥–∏–∫–∏ –≤ –Ω–∏—Ö –±—ã—Ç—å –Ω–µ –¥–æ–ª–∂–Ω–æ.
- –ö–ª–∏–µ–Ω—Ç –¥–ª—è OrderService –¥–æ–ª–∂–µ–Ω —É–º–µ—Ç—å –±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∞—Ç—å –Ω–∞–≥—Ä—É–∑–∫—É –Ω–∞ —Ä–∞–∑–Ω—ã–µ —ç–∫–∑–µ–º–ø–ª—è—Ä—ã —ç—Ç–æ–≥–æ —Å–µ—Ä–≤–∏—Å–∞ (–ø—Ä–∏–º–µ—Ä –∫–∞–∫ —ç—Ç–æ —Å–¥–µ–ª–∞—Ç—å –±—ã–ª –≤ –≤–æ—Ä–∫—à–æ–ø–µ).
- replicas –≤ docker-compose –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –Ω–µ –Ω—É–∂–Ω–æ. –í—Å–µ —Ä–µ–ø–ª–∏–∫–∏ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –ø—Ä–æ–ø–∏—Å–∞–Ω—ã –≤—Ä—É—á–Ω—É—é.

–ù–µ –¥–æ–ø—É—Å–∫–∞–µ—Ç—Å—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å—Ç–æ—Ä–æ–Ω–Ω–∏–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏, –∫—Ä–æ–º–µ –æ—Å–Ω–æ–≤–Ω–æ–≥–æ —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–∞ –∏ —Ç–µ—Ö, —á—Ç–æ –±—ã–ª–∏ –∑–∞–¥–µ–π—Å—Ç–≤–æ–≤–∞–Ω—ã –Ω–∞ workshop.

#### –ü–æ–¥—Ä–æ–±–Ω–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ –≤—Å–µ—Ö —Ä—É—á–µ–∫ –æ–ø–∏—Å–∞–Ω–æ https://hallowed-join-b37.notion.site/9a297c7d74ae4b8a93feae6d8af36531

### 5. –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–µ –∑–∞–¥–∞–Ω–∏–µ –Ω–∞ –∞–ª–º–∞–∑–∏–∫
- –í —Å–≤–∞–≥–≥–µ—Ä–µ –≤—ã–≤–æ–¥–∏—Ç—Å—è –≤—Å—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ–± –æ—à–∏–±–∫–∞—Ö, –æ–ø–∏—Å–∞–Ω–∏–µ –∫–æ–Ω—Ç—Ä–∞–∫—Ç–∞ –æ—Ç–≤–µ—Ç–∞ –≤ —Å–ª—É—á–∞–µ –∫–æ–¥–æ–≤ 200, 400, 500
- –î–ª—è –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏—Ö —Å–µ—Ä–≤–∏—Å–æ–≤ –Ω–∞–ø–∏—Å–∞–Ω—ã UnitTest, –Ω–∞–ø—Ä–∏–º–µ—Ä –¥–ª—è –∫–ª–∞—Å—Å–æ–≤ —Ä–∞–±–æ—Ç–∞—é—â–∏—Ö —Å SD, –∏–ª–∏ –¥–ª—è –∫–ª–∞—Å—Å–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –≤—ã–ø–æ–ª–Ω—è—é—Ç –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ (–≤–∞–ª–∏–¥–∞—Ü–∏–∏). –î–ª—è —Ä—É—á–µ–∫ –ø–∏—Å–∞—Ç—å —Ç–µ—Å—Ç—ã –Ω–∞ –¥–∞–Ω–Ω–æ–º —ç—Ç–∞–ø–µ –Ω–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è.
- –î–ª—è UnitTest –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å xUnit

### 6. –ö–æ–Ω—Ç—Ä–∞–∫—Ç—ã –≤–æ–∑–≤—Ä–∞—â–∞–µ–º—ã—Ö –æ–±—ä–µ–∫—Ç–æ–≤:

#### –î–ª—è –æ—Ç–º–µ–Ω—ã –∑–∞–∫–∞–∑–∞:

* –°—Ç–∞—Ç—É—Å –æ—Ç–º–µ–Ω—ã –∑–∞–∫–∞–∑–∞ - —É—Å–ø–µ—à–Ω–æ –æ—Ç–º–µ–Ω–µ–Ω–æ –∏–ª–∏ –Ω–µ—Ç
* –û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–∏—á–Ω—ã –Ω–µ —É–¥–∞–≤—à–µ–π—Å—è –æ—Ç–º–µ–Ω—ã, –µ—Å–ª–∏ –æ—Ç–º–µ–Ω–∏—Ç—å –∑–∞–∫–∞–∑ –Ω–µ —É–¥–∞–ª–æ—Å—å. –ï—Å–ª–∏ –û–º–µ–Ω–∞ —É—Å–ø–µ—à–Ω–∞ - –ø–æ–ª–µ –ø—É—Å—Ç–æ–µ.

#### –î–ª—è —Ä—É—á–∫–∏ –∞–≥—Ä–µ–≥–∞—Ü–∏–∏:

* –ù–∞–∑–≤–∞–Ω–∏–µ —Ä–µ–≥–∏–æ–Ω–∞
* –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–∫–∞–∑–æ–≤
* –û–±—â–∞—è —Å—É–º–º–∞ –∑–∞–∫–∞–∑–æ–≤
* –°—É–º–º–∞—Ä–Ω—ã–π –≤–µ—Å
* –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫–ª–∏–µ–Ω—Ç–æ–≤, —Å–¥–µ–ª–∞–≤—à–∏—Ö –∑–∞–∫–∞–∑ –≤ —ç—Ç–æ–º —Ä–µ–≥–∏–æ–Ω–µ

#### –î–∞–Ω–Ω—ã–µ –ø–æ –∑–∞–∫–∞–∑—É –¥–ª—è –≤—Å–µ—Ö —Ä—É—á–µ–∫.

* Id –∑–∞–∫–∞–∑–∞
* –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ç–æ–≤–∞—Ä–æ–≤ –≤ –∑–∞–∫–∞–∑–µ
* –û–±—â–∞—è —Å—É–º–º–∞ –∑–∞–∫–∞–∑–∞
* –û–±—â–∏–π –≤–µ—Å –∑–∞–∫–∞–∑–∞
* –¢–∏–ø –∑–∞–∫–∞–∑–∞
* –î–∞—Ç–∞ –∑–∞–∫–∞–∑–∞
* –û—Ç–∫—É–¥–∞ —Å–¥–µ–ª–∞–Ω –∑–∞–∫–∞–∑–∞ (—Ä–µ–≥–∏–æ–Ω)
* –°—Ç–∞—Ç—É—Å –∑–∞–∫–∞–∑–∞
* –ò–º—è –∫–ª–∏–µ–Ω—Ç–∞ (–∏–º—è –∏ —Ñ–∞–º–∏–ª–∏—è)
* –ê–¥—Ä–µ—Å –¥–æ—Å—Ç–∞–≤–∫–∏
* –¢–µ–ª–µ—Ñ–æ–Ω

---

## –î–æ–º–∞—à–Ω–µ–µ –∑–∞–¥–∞–Ω–∏–µ 1
### –†–∞–∑–≤–µ—Ä–Ω—É—Ç—å –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—É —Å–µ—Ä–≤–∏—Å–æ–≤

### –¢—Ä–µ–±—É–µ—Ç—Å—è:
- –°–æ–∑–¥–∞—Ç—å —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –ø—Ä–æ–µ–∫—Ç–∞ –≤ —Å–≤–æ–µ–º –ª–∏—á–Ω–æ–º –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–µ –Ω–∞—à–µ–≥–æ –≥–∏—Ç–ª–∞–±–∞.
- –ù–∞–∑–≤–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞ –≤ –≥–∏—Ç–ª–∞–±–µ –ø–æ –≤–∞—à–µ–º—É —É—Å–º–æ—Ç—Ä–µ–Ω–∏—é.
- –î–∞—Ç—å –¥–æ—Å—Ç—É–ø –∫ –ø—Ä–æ–µ–∫—Ç—É —Å–≤–æ–µ–º—É —Ç—å—é—Ç–æ—Ä—É.
- –°–æ–∑–¥–∞—Ç—å —Ä–µ—à–µ–Ω–∏–µ Ozon.Route256.Practice

### –°–æ—Å—Ç–∞–≤ —Ä–µ—à–µ–Ω–∏—è
- –ü—Ä–æ–µ–∫—Ç Ozon.Route256.Practice.OrdersService
- –ü—Ä–æ–µ–∫—Ç Ozon.Route256.Practice.GatewayService
- –î–ª—è –æ–±–æ–∏—Ö –ø—Ä–æ–µ–∫—Ç–æ–≤ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –æ–ø–∏—Å–∞–Ω—ã Dockerfile
- –û–ø–∏—Å–∞—Ç—å —Ñ–∞–π–ª docker-compose.yaml

### –°–æ—Å—Ç–∞–≤ docker-compose.yaml
- –°–µ—Ä–≤–∏—Å—ã –Ω–∞ –±–∞–∑–µ –æ–±—Ä–∞–∑–æ–≤ –∏–∑ gitlab-registry.ozon.dev
  - CustomerService
  - LogisticsSimulator
  - OrdersGenerator - –≤ —Ç—Ä–µ—Ö —ç–∫–∑–µ–º–ø–ª—è—Ä–∞—Ö –∏ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è—Ç—å —Ä–∞–∑–Ω—ã–µ –∏—Å—Ç–æ—á–Ω–∏–∫–∏ WebSite, Mobile, Api
  - ServiceDiscovery
- –°–µ—Ä–≤–∏—Å—ã –Ω–∞ –±–∞–∑–µ –ø—Ä–æ–µ–∫—Ç–æ–≤ –≤ —Ä–µ—à–µ–Ω–∏–∏
  - OrdersService - –≤ –¥–≤—É—Ö —ç–∫–∑–µ–º–ø–ª—è—Ä–∞—Ö
  - GatewayService
- postgress –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –¥–ª—è —Å–µ—Ä–≤–∏—Å–∞ CustomerService (customer-service-db)
- postgress –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –¥–ª—è —Å–µ—Ä–≤–∏—Å–∞ OrdersService (orders)
- –ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –∫–∞—Ñ–∫–∏ (–±—Ä–æ–∫–µ—Ä—ã –∏ zookeeper)
- OrdersService –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å 2 —ç–∫–∑–µ–º–ø–ª—è—Ä–∞

### –ó–∞–∫–æ–º–∏—Ç–∏—Ç—å –ø—Ä–æ–µ–∫—Ç

### –ö–æ–Ω–µ—á–Ω—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:

–ü—Ä–∏—Å—É—Ç—Å—Ç–≤—É—é—Ç images:
- CustomerService
- OrdersService - –≤ –¥–≤—É—Ö —ç–∫–∑–µ–º–ø–ª—è—Ä–∞—Ö
- GatewayService
- LogisticsSimulator
- OrderGenerator - –≤ —Ç—Ä–µ—Ö —ç–∫–∑–µ–º–ø–ª—è—Ä–∞—Ö –∏ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è—Ç—å —Ä–∞–∑–Ω—ã–µ –∏—Å—Ç–æ—á–Ω–∏–∫–∏ WebSite, Mobile, Api
- ServiceDiscovery
- kafka (broker)
- zookeeper
- postgres

–ö–æ—Ä—Ä–µ–∫—Ç–Ω–æ —Å—Ç–∞—Ä—Ç—É—é—Ç –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã:
- CustomerService
- OrderService
- GatewayService
- LogisticsSimulator
- OrdersGenerator
- ServiceDiscovery
- kafka (broker)
- zookeeper
- postgres

p.s. –ü–æ –∂–µ–ª–∞–Ω–∏—é –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –≤ —Ä–µ—à–µ–Ω–∏–µ —Ñ–∞–π–ª .gitlab-ci.yml —Å –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ –¥–ª—è –≤–∞—à–µ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞, –∫–æ—Ç–æ—Ä—ã–µ –±—ã–ª–∏ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω—ã –Ω–∞ –≤–æ—Ä–∫—à–æ–ø–µ.

–î–µ–¥–ª–∞–π–Ω: 23 —Å–µ–Ω—Ç—è–±—Ä—è 23:59 (—Å–¥–∞—á–∞) / 25 —Å–µ–Ω—Ç—è–±—Ä—è 23:59 (–ø—Ä–æ–≤–µ—Ä–∫–∞) 
